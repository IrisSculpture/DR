on_actions = {

	on_startup= {
		effect = {
		every_country = {
			hidden_effect = {
				BHL = {
					add_ai_strategy = {
						type = alliance
						id = FRW
						value = 200
					}
				}
			}
			country_event = {id = WorldNews.1 }
	}
	}
}
on_startup= {
	effect = {
		VCT={leave_faction = yes}
		KGL={leave_faction = yes}
		KLD={leave_faction = yes}
		DMT={leave_faction = yes}
		KOH={leave_faction = yes}

}
}

	on_daily = {
		effect = {
		  if = {
			every_unit_leader = {
						limit = {	
						has_trait = Lieutenant_general
					}
					remove_unit_leader_trait = skilled_staffer
					remove_unit_leader_trait = expert_delegator
			}
			every_unit_leader = {
			limit = {	
				has_trait = expert_delegator
			}
			remove_unit_leader_trait = Lieutenant_general
			remove_unit_leader_trait = skilled_staffer
	}
	every_unit_leader = {
		limit = {	
			is_field_marshal = yes
	}
	remove_unit_leader_trait = expert_delegator
	remove_unit_leader_trait = Lieutenant_general
	remove_unit_leader_trait = skilled_staffer
}
	
 }
}
}
on_monthly = {
	effect = {
		every_country = {
					limit = {	
						check_variable = { masses_popularity < -25 }
						check_variable = { assets_popularity < -25 }
						check_variable = { noble_popularity < -25 }
						check_variable = { elite_popularity < -25 }
				}
				add_stability = -0.0001
		}
		every_country = {
			limit = {	
				check_variable = { masses_popularity > 50 }
				check_variable = { assets_popularity > 30 }
				check_variable = { noble_popularity > 20 }
				check_variable = { elite_popularity > 10 }
		}
		add_stability = 0.0001
}
}
}
on_monthly = {
	effect = {
		every_country = {
					limit = {	
						check_variable = { inflation > 80 }
				}
				add_stability = -0.1
		}
		every_country = {
			limit = {	
				check_variable = { inflation < 10 }
		}
		add_stability = 0.001
}
}
}










on_daily = {
	effect = {
		
		if = {
			limit = {
				check_variable = { SHW_Loyalty = 50 compare = greater_than_or_equals}
			}
			set_variable = { SHW_Imperial_Russian_Army_paranoiameter = 1 }
		}
		else_if = {
			limit = {
				check_variable = { SHW_Loyalty = 50 compare = equals}
			}
			set_variable = { SHW_Imperial_Russian_Army_paranoiameter = 2 }
		}
		else_if = {
			limit = {
				check_variable = { SHW_Loyalty = 50 compare = less_than }
			}
			set_variable = { SHW_Imperial_Russian_Army_paranoiameter = 3 }
		}

}
}

####

on_startup= {
	effect = {
		every_state = {
			set_variable = { Literate_population = 0 }
			if={
				limit = {
					OR = {
						has_state_category = wasteland
						has_state_category = enclave
						has_state_category = tiny_island
					}
				}
				set_variable = { Literate_population = 0 }
			}
			if={
				limit = {
					OR = {
						has_state_category = small_island
						has_state_category = pastoral
					}
				}
				set_variable = { Literate_population = 20 }
			}
			if={
				limit = {
					has_state_category =rural
				}
				set_variable = { Literate_population = 40 }
			}
			if={
				limit = {
					has_state_category =town
				}
				set_variable = { Literate_population = 120 }
			}
			if={
				limit = {
					has_state_category = large_town
				}
				set_variable = { Literate_population = 150 }
			}
			if={
				limit = {
					has_state_category = city
				}
				set_variable = { Literate_population = 240 }
			}
			if={
				limit = {
					has_state_category = large_city
				}
				set_variable = { Literate_population = 320 }
			}
			if={
				limit = {
					has_state_category =metropolis
				}
				set_variable = { Literate_population = 1000 }
			}
			if={
				limit = {
					has_state_category =megalopolis
				}
				set_variable = { Literate_population = 1200 }
			}
			if={
				limit = {
					has_state_category =megalopolis
				}
			}
			# set_variable = { Literate_infra = infrastructure_level }
			# multiply_variable = { Literate_infra = 30 }
			# add_to_variable = { Literate_population = Literate_infra}
			if = {
				limit = {
					is_on_continent = europe
				}
				multiply_variable = { Literate_population = 3 }
			}
			if = {
				limit = {
					is_on_continent = north_america
				}
				multiply_variable = { Literate_population = 1.5 }
			}
			if = {
				limit = {
					is_on_continent = south_america
				}
				multiply_variable = { Literate_population = 1.5 }
			}
			if = {
				limit = {
					is_on_continent = africa
				}
				multiply_variable = { Literate_population = 0.01 }
			}
			if = {
				limit = {
					is_on_continent = asia
					NOT = {
						is_core_of = JPN
					}
				}
				multiply_variable = { Literate_population = 0.05 }
			}
			if = {
				limit = {
					OR = {
						is_owned_by = KAT
						is_owned_by = KWT
					}
				}
				multiply_variable = { Literate_population = 0.01 }
			}
			if = {
				limit = {
					OR = {
						is_owned_by = WWS
						is_owned_by = AOX
						is_owned_by = BXM
						is_owned_by = ENL
						is_owned_by = JAP
						is_owned_by = UBS
						is_owned_by = AGC
						is_owned_by = DOL
						is_owned_by = DON
						is_owned_by = DHD
						is_owned_by = DOB
						is_owned_by = DOR
						is_owned_by = DOF
						is_owned_by = DOS
					}
				}
				multiply_variable = { Literate_population = 2 }
			}
			if = {
				limit = {
					OR = {
						is_core_of = JPN
					}
				}
				multiply_variable = { Literate_population = 8 }
			}
			if = {
				limit = {
					OR = {
						is_owned_by = UBS
					}
				}
				multiply_variable = { Literate_population = 2 }
			}
			if = {
				limit = {
					OR = {
						is_owned_by = BXM
						is_owned_by = DOL
						is_owned_by = KGL
						is_owned_by = VCT
					}
				}
				multiply_variable = { Literate_population = 1.5 }
			}
			if = {
				limit = {
					OR = {
						is_owned_by = SAA
						is_owned_by = SAB
						is_owned_by = SAC
						is_owned_by = SAD
						is_owned_by = SAE
						is_owned_by = SAF
						is_owned_by = SAG
					}
				}
				multiply_variable = { Literate_population = 3 }
			}
			if = {
				limit = {
					OR = {
						is_core_of = FRW
					}
				}
				multiply_variable = { Literate_population = 1.7 }
			}
			if = {
				limit = {
					check_variable = {
						Literate_population > state_population_k
					}
				}
				set_variable = { Literate_population = state_population_k }
			}
			set_variable = { state_literacy = Literate_population }
			divide_variable = { state_literacy = state_population_k  }
		}
		every_country={
			set_variable = { Literacy_power = 0}
			set_variable = { all_pop = 0}
			every_controlled_state = {
				#if = {
					#limit = {
					#	is_core_of = PREV
					#}
					add_to_variable = { var = PREV.all_pop value = state_population_k } 
					add_to_variable = { var = PREV.Literacy_power value = Literate_population } 
				#}
			}
			set_variable = { Literacy = Literacy_power }
			divide_variable = { Literacy = all_pop }
			multiply_variable = { Literacy = 100 }
		}


	}
	}
	on_monthly = {
		effect = {
			every_country={
			set_variable = { Literacy_power = 0}
			set_variable = { all_pop = 0}
			every_controlled_state = {
				#if = {
					#limit = {
					#	is_core_of = PREV
					#}
					add_to_variable = { var = PREV.all_pop value = state_population_k } 
					add_to_variable = { var = PREV.Literacy_power value = Literate_population } 
				#}
			}
			set_variable = { Literacy = Literacy_power }
			divide_variable = { Literacy = all_pop }
			multiply_variable = { Literacy = 100 }
			}
		}
	}
}










	#on_daily = {
	#effect = {
		#if = {
			#WWS={
			#limit = {
			#	has_completed_focus = WWS_Expansion_radar_stations
			#	has_completed_focus = WWS_Siemens_AG
			#	has_completed_focus = WWS_Hochtief
			#}
			# swap_ideas = {
			# 	remove_idea = low_industrialization
			#	add_idea = Basic_industrialization
			#}
		#}
	#}
		#}
	#}
