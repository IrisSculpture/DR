gercon_clamp_vars = {
	hidden_effect = {
		var:gercon_nat = {
			clamp_variable = {
				var = aus_support
				min = 0
				max = 100
			}
			clamp_variable = {
				var = pre_support
				min = 0
				max = 100
			}
			clamp_variable = {
				var = ger_support
				min = 0
				max = 100
			}
			clamp_variable = {
				var = ger_power_balance_value_var
				min = 0
				max = 200
			}
		}
	}
}
gercon_upd_pbv_var = {
	hidden_effect = {
    set_variable = {
        AGC.aus_support = 20
    }
    set_variable = {
        AGC.pre_support = 20
    }
    every_country = {
        limit = {
            OR = {
                tag = LSB
                tag = DHD
                tag = DON
                tag = DOF
                tag = DOB
                tag = DOR
                tag = BXM
                tag = DOL
                tag = DOH
                tag = DOA
                tag = DOM
                tag = DOS
            }
        }
		if = {
			limit = {
           		check_variable = { aus_support > pre_support }
			}
			add_to_variable = {
				var = AGC.aus_support
				value = 5
			}
		}
		if = {
			limit = {
           		check_variable = { aus_support < pre_support }
			}
			add_to_variable = {
				var = AGC.pre_support
				value = 5
			}
		}
    }
	if = {
		limit = {
       		check_variable = { DOR.aus_support > DOR.pre_support }	
    	}
	    add_to_variable = {
			var = AGC.aus_support
			value = 10
		}
	}
	if = {
		limit = {
      		check_variable = { DOR.aus_support < DOR.pre_support }
		}
		add_to_variable = {
			var = AGC.pre_support
			value = 10
		}
	}
	if = {
		limit = {
       		check_variable = { DOH.aus_support > DOH.pre_support }	
    	}
	    add_to_variable = {
			var = AGC.aus_support
			value = 5
		}
	}
	if = {
		limit = {
      		check_variable = { DOH.aus_support < DOH.pre_support }
		}
		add_to_variable = {
			var = AGC.pre_support
			value = 5
		}
	}
	if = {
		limit = {
       		check_variable = { DOS.aus_support > DOS.pre_support }	
    	}
	    add_to_variable = {
			var = AGC.aus_support
			value = 5
		}
	}
	if = {
		limit = {
      		check_variable = { DOS.aus_support < DOS.pre_support }
		}
		add_to_variable = {
			var = AGC.pre_support
			value = 5
		}
	}
	set_variable = {
		ger_power_balance_value_var = 100
	}
	var:gercon_nat = {
        clamp_variable = {
            var = aus_support
            min = 0
            max = 100
        }
        clamp_variable = {
            var = pre_support
            min = 0
            max = 100
        }
		add_to_variable = {
			var = ROOT.ger_power_balance_value_var 
			value = aus_support
		}
		subtract_from_variable = {
			var = ROOT.ger_power_balance_value_var 
			value = pre_support
		}
	}
	}
}
ger_con_aus_controlled = {
    set_variable = {
        var = ger_con_cangetsupport
        value = 0
    }
	set_variable = {
		var = aus_support
		value = 100
	}
	set_variable = {
		var = pre_support
		value = 0
	}
	custom_effect_tooltip = gercon_aus_controll
}
ger_con_pre_controlled = {
    set_variable = {
        var = ger_con_cangetsupport
        value = 0
    }
	set_variable = {
		var = aus_support
		value = 0
	}
	set_variable = {
		var = pre_support
		value = 100
	}
	custom_effect_tooltip = gercon_pre_controll
}
gercon_add_ger_sup = {
    add_to_variable = { var = ger_support value = ger_con_det }  
	custom_effect_tooltip = gercon_add_ger_sup_eff
}
gercon_add_aus_sup = {
	if = {
        limit = { check_variable = { ger_con_cangetsupport = 1 } }
    	add_to_variable = { var = aus_support value = ger_con_det }  
		custom_effect_tooltip = gercon_add_aus_sup_eff
	}
}
gercon_add_pre_sup = {
	if = {
        limit = { check_variable = { ger_con_cangetsupport = 1 } }
		add_to_variable = { var = pre_support value = ger_con_det }  
		custom_effect_tooltip = gercon_add_pre_sup_eff
	}
}
gercon_del_ger_sup = {
    add_to_variable = { var = ger_support value = ger_con_det }  
	custom_effect_tooltip = gercon_del_ger_sup_eff
}
gercon_del_aus_sup = {
	if = {
        limit = { check_variable = { ger_con_cangetsupport = 1 } }
		add_to_variable = { var = aus_support value = ger_con_det }  
		custom_effect_tooltip = gercon_del_aus_sup_eff
	}
}
gercon_del_pre_sup = {
	if = {
        limit = { check_variable = { ger_con_cangetsupport = 1 } }
		add_to_variable = { var = pre_support value = ger_con_det }  
		custom_effect_tooltip = gercon_del_pre_sup_eff
	}
}
ger_con_clmap_array = {
	clear_array = global.ger_con_new_array
	every_country = {
		limit = {
			check_variable = { has_gercon_set = 1 }
		}
		add_to_array = { global.ger_con_new_array = THIS }
	}
}
build_ger_con_seats = {
	
                set_variable = { AOX.ger_con_seat = 36 }# 2 is westphalia
                set_variable = { AOX.has_gercon_set = 1 }
                set_variable = { WWS.ger_con_seat = 12 }
                set_variable = { WWS.has_gercon_set = 1 }
                set_variable = { DHD.ger_con_seat = 5 }
                set_variable = { DHD.has_gercon_set = 1 }
                set_variable = { DON.ger_con_seat = 2 }
                set_variable = { DON.has_gercon_set = 1 }
                set_variable = { DOF.ger_con_seat = 3 }
                set_variable = { DOF.has_gercon_set = 1 }
                set_variable = { DOB.ger_con_seat = 3 }
                set_variable = { DOB.has_gercon_set = 1 }
                set_variable = { DOR.ger_con_seat = 10 }
                set_variable = { DOR.has_gercon_set = 1 }
                set_variable = { DOL.ger_con_seat = 6 }
                set_variable = { DOL.has_gercon_set = 1 }
                set_variable = { DOH.ger_con_seat = 6 }
                set_variable = { DOH.has_gercon_set = 1 }
                set_variable = { DOA.ger_con_seat = 1 }
                set_variable = { DOA.has_gercon_set = 1 }
                set_variable = { DOM.ger_con_seat = 1 }
                set_variable = { DOM.has_gercon_set = 1 }
                set_variable = { DOS.ger_con_seat = 9 }# 4 from thuringen
                set_variable = { DOS.has_gercon_set = 1 }
                set_variable = { LSB.ger_con_seat = 3 }
                set_variable = { LSB.has_gercon_set = 1 }
                set_variable = { DMW.ger_con_seat = 3 }# 2 holstein 1 schleswig
                set_variable = { DMW.has_gercon_set = 1 }

                AOX = { ger_con_clmap_array = yes }
}
clamp_south_ger_var = {
	clamp_variable = {
		var = AOX.southern_germany_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = DOR.southern_germany_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = DOB.southern_germany_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = DOF.southern_germany_qwq
		min = 0
		max = 100
	}
}
clamp_westphalia_var = {
	clamp_variable = {
		var = DOH.westphalia_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = DOL.westphalia_qwq
		min = 0
		max = 100
	}
}
clamp_sax_thu_var = {
	clamp_variable = {
		var = SAA.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = SAB.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = SAC.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = SAD.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = SAE.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = SAF.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = SAG.sax_thu_qwq
		min = 0
		max = 100
	}
	clamp_variable = {
		var = DOS.sax_thu_meg
		min = 0
		max = 100
	}
}
clamp_president_authority = {
	clamp_variable = {
		var = global.ger_con_president_authority
		min = 0
		max = 5
	}
}



Austro_Prussian_win_war = {
	every_country = {
		limit = {
		  OR = {
			original_tag = AGC
			original_tag = LSB
			original_tag = DHD
			original_tag = DON
			original_tag = DOF
			original_tag = DOB
			original_tag = DOR
			original_tag = DOL
			original_tag = DOH
			original_tag = DOA
			original_tag = DOM
			original_tag = DOS
			original_tag = SAA
			original_tag = SAB
			original_tag = SAC
			original_tag = SAD
			original_tag = SAE
			original_tag = SAF
			original_tag = SAG
		  }
		}
		ger_con_aus_controlled = yes
		country_event = ger_con.2
	  }
	940={
		transfer_state_to = AOX
	}
	57={
		transfer_state_to = AOX
	} 
	67={
		transfer_state_to = AOX
	}
	66={
		transfer_state_to = AOX
	}	
	1028={
		transfer_state_to = AOX
	}	
	762={
		transfer_state_to = AOX
	}	
	949={
		transfer_state_to = AOX
	}		
}